{"version":3,"sources":["webpack:///./src/components/slider.js","webpack:///./src/pages/geo/camera.js"],"names":["Slider","name","min","max","step","value","defaultValue","onChange","useState","valueState","setValue","console","log","type","event","newValue","target","getBaseLog","x","y","Math","Camera","lambda","phi","gamma","width","distance","scale","theta","acos","size","cos","sin","SQRT2","_handleChnage"],"mappings":"4HAkCeA,EA/BA,SAAC,GAQT,IAPLC,EAOI,EAPJA,KACAC,EAMI,EANJA,IACAC,EAKI,EALJA,IAKI,IAJJC,YAII,MAJG,MAIH,EAHJC,EAGI,EAHJA,MACAC,EAEI,EAFJA,aACAC,EACI,EADJA,SACI,EAC2BC,mBAASH,GAASC,GAA1CG,EADH,KACeC,EADf,KAQJ,OADAC,QAAQC,IAAIP,EAAOC,EAAcG,GAE/B,+BACE,2BACEI,KAAK,QACLX,IAAKA,EACLC,IAAKA,EACLC,KAAMA,EACNC,MAAOI,EACPF,SAdgB,SAAAO,GACpB,IAAMC,EAAWD,EAAME,OAAOX,MAC9BK,EAASK,GACTR,EAASQ,MAaHd,EATN,IAScI,IC1BlB,SAASY,EAAWC,EAAGC,GACrB,OAAOC,KAAKR,IAAIO,GAAKC,KAAKR,IAAIM,GA6DjBG,UA1DA,SAAC,GAST,IARLC,EAQI,EARJA,OACAC,EAOI,EAPJA,IACAC,EAMI,EANJA,MACAC,EAKI,EALJA,MACAC,EAII,EAJJA,SAEAC,EAEI,EAFJA,MACApB,EACI,EADJA,SAOMqB,GADgBX,EAAW,EAAGS,GACtBN,KAAKS,KAAK,EAAIH,IACtBI,GAASJ,EAAW,IAAMA,EAAWN,KAAKW,IAAIH,IAAWR,KAAKY,IAAIJ,GACnDR,KAAKa,MAA+BhB,EAAW,EAAGU,GASvE,OACE,6BACE,kBAAC,EAAD,CACE1B,KAAM,SACNC,KAAM,IACNC,IAAK,IACLE,MAAOiB,EACPhB,aAAc,EACdC,SAAU,SAAAF,GAAK,OAxBC,SAACJ,EAAMI,GAE3B,OADAM,QAAQC,IAAIX,EAAMI,GACXE,EAASN,EAAMI,GAsBC6B,CAAc,SAAU7B,MAE7C,kBAAC,EAAD,CACEJ,KAAM,MACNC,KAAM,GACNC,IAAK,GACLE,MAAOkB,EACPjB,aAAc,EACdC,SAAU,SAAAF,GACRE,EAAS,MAAOF,MAGpB,kBAAC,EAAD,CACEJ,KAAM,QACNC,KAAM,IACNC,IAAK,IACLE,MAAOmB,EACPlB,aAAc,EACdC,SAAU,SAAAF,GAAK,OAAIE,EAAS,QAASF","file":"component---src-pages-geo-camera-js-cc3b7e31552107343da8.js","sourcesContent":["import React, { useState } from \"react\"\n\n// TODO use chakra ui\nconst Slider = ({\n  name,\n  min,\n  max,\n  step = \"any\",\n  value,\n  defaultValue,\n  onChange,\n}) => {\n  const [valueState, setValue] = useState(value || defaultValue)\n  const onChangeValue = event => {\n    const newValue = event.target.value\n    setValue(newValue)\n    onChange(newValue)\n  }\n  console.log(value, defaultValue, valueState)\n  return (\n    <label>\n      <input\n        type=\"range\"\n        min={min}\n        max={max}\n        step={step}\n        value={valueState}\n        onChange={onChangeValue}\n      />\n      {`${name}=${value}`}\n    </label>\n  )\n}\n\nexport default Slider\n","import React from \"react\"\nimport Slider from \"../../components/slider\"\n\nfunction getBaseLog(x, y) {\n  return Math.log(y) / Math.log(x)\n}\n\nconst Camera = ({\n  lambda,\n  phi,\n  gamma,\n  width,\n  distance,\n  // tilt,\n  scale,\n  onChange,\n}) => {\n  const _handleChnage = (name, value) => {\n    console.log(name, value)\n    return onChange(name, value)\n  }\n  const distanceScale = getBaseLog(2, distance)\n  const theta = Math.acos(1 / distance)\n  const size = ((distance - 1) / (distance - Math.cos(theta))) * Math.sin(theta)\n  const scaleScale = ((Math.SQRT2 / (width - 2)) * size) / getBaseLog(2, scale)\n\n  const _getDistance = value => Math.pow(2, value)\n  const _getScale = value => {\n    const thetas = Math.acos(1 / distance)\n    const size =\n      ((distance - 1) / (distance - Math.cos(thetas))) * Math.sin(thetas)\n    return ((Math.pow(2, value) / size) * (width - 2)) / Math.SQRT2\n  }\n  return (\n    <div>\n      <Slider\n        name={\"lambda\"}\n        min={-180}\n        max={180}\n        value={lambda}\n        defaultValue={0}\n        onChange={value => _handleChnage(\"lambda\", value)}\n      />\n      <Slider\n        name={\"phi\"}\n        min={-90}\n        max={90}\n        value={phi}\n        defaultValue={0}\n        onChange={value => {\n          onChange(\"phi\", value)\n        }}\n      />\n      <Slider\n        name={\"gamma\"}\n        min={-180}\n        max={180}\n        value={gamma}\n        defaultValue={0}\n        onChange={value => onChange(\"gamma\", value)}\n      />\n    </div>\n  )\n}\n\nexport default Camera\n"],"sourceRoot":""}